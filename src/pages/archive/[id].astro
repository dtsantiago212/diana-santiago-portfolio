---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ArtworkDetail from '../../components/ArtworkDetail.astro';
import data from '../../data/artwork_metadata.json';

export function getStaticPaths() {
  return data.archive.map((artwork, index) => ({
    params: { id: artwork.id },
    props: { 
      artwork,
      prevId: index > 0 ? data.archive[index - 1].id : null,
      nextId: index < data.archive.length - 1 ? data.archive[index + 1].id : null,
    },
  }));
}

const { artwork, prevId, nextId } = Astro.props;
---

<BaseLayout title={artwork.title} description={`${artwork.title} - ${artwork.medium}, ${artwork.year}`}>
  <ArtworkDetail 
    artwork={artwork}
    prevId={prevId}
    nextId={nextId}
    backUrl="/archive"
    backLabel="Back to Archive"
  />
</BaseLayout>
