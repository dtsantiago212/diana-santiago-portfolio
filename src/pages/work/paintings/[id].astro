---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import ArtworkDetail from '../../../components/ArtworkDetail.astro';
import data from '../../../data/artwork_metadata.json';

export function getStaticPaths() {
  return data.paintings.map((artwork, index) => ({
    params: { id: artwork.id },
    props: { 
      artwork,
      prevId: index > 0 ? data.paintings[index - 1].id : null,
      nextId: index < data.paintings.length - 1 ? data.paintings[index + 1].id : null,
    },
  }));
}

const { artwork, prevId, nextId } = Astro.props;
---

<BaseLayout title={artwork.title} description={`${artwork.title} - ${artwork.medium}, ${artwork.year}`}>
  <ArtworkDetail 
    artwork={artwork}
    prevId={prevId}
    nextId={nextId}
    backUrl="/work/paintings"
    backLabel="Back to Paintings"
  />
</BaseLayout>
